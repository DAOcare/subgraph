type Project @entity {
  id: ID!
  benefactor: Bytes!
  projectDataIdentifier: String!
  projectState: String!
  projectVoteResults: [VoteStatus!]
}

type User @entity {
  id: ID!
  amount: BigInt!
  #timeJoined: [BigInt!]! # so we can see a history of when they joined and left and if they joined again
  timeJoined: BigInt!
  votes: [Vote!]
}

type VoteStatus @entity {
  id: ID! # <iteration>-<projectId>
  projectVote: BigInt!
}

type Vote @entity {
  id: ID! # <iteration>-<projectId>-<address>
  voteAmount: BigInt!
  voter: User!
}

type Iteration @entity {
  id: ID! # the iteration number
  projectVoteTallies: [VoteStatus!]
  individualVotes: [Vote!]
  totalVotes: BigInt!
  winningProposal: Project # there might not be a winning proposal (iteration 0)
  fundsDistributed: BigInt!
  winningVotes: BigInt!
}
type VoteManager @entity {
  id: ID! # this should be a singleton. Give it a constant id of "VOTE_MANAGER"
  currentIteration: Iteration!
  latestCompleteIteration: Iteration
}
